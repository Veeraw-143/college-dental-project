{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Surabi Dental Clinic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, minimum-scale=1, maximum-scale=5, user-scalable=yes">
    <meta name="description" content="Surabi Dental Clinic ‚Äî expert dental care for the whole family. Book appointments online.">
    <meta name="theme-color" content="#2fa4a9">
    <meta name="color-scheme" content="light dark">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="icon" type="image/png" href="{% static 'media/logo2.png' %}">
    <style>
        /* Prevent layout shift from scrollbar */
        html {
            overflow-y: scroll;
        }
        /* Safe area for notched devices */
        @supports (padding: max(0px)) {
            body {
                padding-left: max(0px, env(safe-area-inset-left));
                padding-right: max(0px, env(safe-area-inset-right));
            }
        }
    </style>
</head>
<body>

<!-- Header -->
<header class="header">
    <div class="header-inner">
        <div class="logo">
            <span class="logo-mark">ü¶∑</span>
            <div>
                <h1>Surabi</h1>
                <small>Dental Clinic</small>
            </div>
        </div>
        <p class="tag">Your Smile, Our Priority</p>
    </div>
</header>

<!-- Navigation -->
<nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav-inner">
        <div class="nav-links">
            <a href="#" class="nav-link">Home</a>
            <a href="#services" class="nav-link">Services</a>
            <a href="#team" class="nav-link">Doctors</a>
            <a href="#contact" class="nav-link">Contact</a>
        </div>
        <div class="nav-actions">
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">üåô</button>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero" aria-labelledby="hero-heading">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h2 id="hero-heading">Healthy Teeth, Confident Smile</h2>
        <p class="lead">Advanced dental care with a gentle touch.</p>
        <div class="hero-ctas">
            <button class="btn btn-primary" onclick="scrollToAppointment()">Book Appointment</button>
            <a class="btn btn-outline" href="#services">View Services</a>
        </div>
    </div>

    <div class="hero-media" aria-hidden="true">
        <img src="{% static 'media/bg2.webp' %}" alt="Smiling dentist with patient" loading="lazy" decoding="async">
        <img src="{% static 'media/bg3.webp' %}" alt="Child Dentistry" loading="lazy" decoding="async">
    </div>
</section>

<!-- Services -->
<section class="services" id="services">
    <div class="services-header">
        <h2>Our Comprehensive Dental Services</h2>
        <p class="services-subtitle">State-of-the-art treatments delivered with expertise and compassion</p>
    </div>
    <div class="service-box">
        <article class="service-card" tabindex="0" data-service="Professional Cleaning">
            <div class="service-icon">ü¶∑</div>
            <h3>Professional Teeth Cleaning</h3>
            <div class="service-description">
                <p><strong>Preventive Care & Scale & Polish</strong></p>
                <p>Our certified hygienists perform thorough cleanings to remove plaque, tartar, and stains using advanced ultrasonic technology. Regular cleanings prevent cavities, gum disease, and maintain optimal oral health.</p>
                <ul class="service-features">
                    <li>Ultrasonic scaling & polishing</li>
                    <li>Fluoride treatment</li>
                    <li>Gum health assessment</li>
                    <li>Personalized oral care guidance</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Teeth Whitening">
            <div class="service-icon">‚ú®</div>
            <h3>Professional Teeth Whitening</h3>
            <div class="service-description">
                <p><strong>Cosmetic Enhancement & Smile Brightening</strong></p>
                <p>Achieve a brighter, more confident smile with our professional whitening treatments. Using safe, proven bleaching agents and advanced LED technology, we deliver results that last.</p>
                <ul class="service-features">
                    <li>In-clinic whitening (instant results)</li>
                    <li>Custom take-home kits</li>
                    <li>Safe for sensitive teeth</li>
                    <li>Results lasting 6-12 months</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Root Canal Therapy">
            <div class="service-icon">üîß</div>
            <h3>Endodontic Root Canal Therapy</h3>
            <div class="service-description">
                <p><strong>Pain Relief & Tooth Preservation</strong></p>
                <p>Modern endodontic treatment using rotary instruments and digital imaging to precisely remove infected pulp tissue, disinfect canals, and restore tooth function while preserving the natural tooth.</p>
                <ul class="service-features">
                    <li>Digital apex locators & imaging</li>
                    <li>Rotary instrumentation system</li>
                    <li>Complete pain management</li>
                    <li>High success rate (95%+)</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Pediatric Dentistry">
            <div class="service-icon">üë∂</div>
            <h3>Pediatric Dentistry</h3>
            <div class="service-description">
                <p><strong>Child-Friendly Dental Care</strong></p>
                <p>Specialized care for infants, children, and adolescents in a welcoming, anxiety-free environment. We focus on establishing healthy oral habits and preventing future dental problems.</p>
                <ul class="service-features">
                    <li>Cavity prevention & sealants</li>
                    <li>Fluoride treatments</li>
                    <li>Early orthodontic assessment</li>
                    <li>Dental anxiety management</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Crowns & Bridges">
            <div class="service-icon">üëë</div>
            <h3>Crowns, Bridges & Restorations</h3>
            <div class="service-description">
                <p><strong>Advanced Restorative Solutions</strong></p>
                <p>Custom-crafted restorations using premium materials to repair damaged or missing teeth. Our prosthetics restore function, strength, and aesthetics for a natural appearance.</p>
                <ul class="service-features">
                    <li>Ceramic & all-ceramic crowns</li>
                    <li>Fixed bridges</li>
                    <li>Direct & indirect composites</li>
                    <li>CAD-CAM technology</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Implants & Prosthodontics">
            <div class="service-icon">üíé</div>
            <h3>Dental Implants & Prosthodontics</h3>
            <div class="service-description">
                <p><strong>Permanent Tooth Replacement</strong></p>
                <p>Replace missing teeth with titanium implants that function and feel like natural teeth. Our experienced team handles everything from surgical placement to custom crown fabrication.</p>
                <ul class="service-features">
                    <li>Surgical implant placement</li>
                    <li>Complete implant-supported restorations</li>
                    <li>Bone grafting when needed</li>
                    <li>10+ year success rate</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Orthodontics">
            <div class="service-icon">ü¶¥</div>
            <h3>Orthodontics & Alignment</h3>
            <div class="service-description">
                <p><strong>Braces & Clear Aligners</strong></p>
                <p>Correct bite problems and align teeth using traditional braces or modern invisible aligners. Our orthodontist creates personalized treatment plans for children and adults.</p>
                <ul class="service-features">
                    <li>Metal & ceramic braces</li>
                    <li>Clear aligner systems</li>
                    <li>Bite correction</li>
                    <li>Retention & follow-up care</li>
                </ul>
            </div>
        </article>

        <article class="service-card" tabindex="0" data-service="Periodontal Care">
            <div class="service-icon">üåø</div>
            <h3>Periodontal & Gum Care</h3>
            <div class="service-description">
                <p><strong>Gum Disease Treatment & Prevention</strong></p>
                <p>Specialized treatment for gum disease ranging from preventive care to advanced periodontal surgery. We help restore gum health and prevent tooth loss.</p>
                <ul class="service-features">
                    <li>Scaling & root planing</li>
                    <li>Laser gum treatment</li>
                    <li>Graft procedures</li>
                    <li>Maintenance programs</li>
                </ul>
            </div>
        </article>
    </div>
</section>

<!-- Appointment -->
<section class="appointment" id="appointment" >
    <div class="appointment-card">
        <h2>Book an Appointment</h2>
        <form id="appointment-form" method="POST" action="{% url 'booking' %}">
            {% csrf_token %}
            
            <!-- Email Verification Section -->
            <div id="otp-section" class="otp-verification" style="background: #f0f4f8; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2fa4a9;">
                <h3 style="margin-top: 0;">Email Verification</h3>
                <div class="field">
                    <input type="email" id="email-otp" name="email-otp" placeholder="" required>
                    <label for="email-otp">Email Address</label>
                    <div class="error" data-for="email-otp" aria-live="polite"></div>
                </div>
                <button type="button" id="send-otp-btn" class="btn btn-primary" style="width: 100%;">Send OTP</button>
                
                <div id="otp-input-section" style="display: none; margin-top: 15px;">
                    <div class="field">
                        <input type="text" id="otp-code" name="otp-code" placeholder="" maxlength="6" style="letter-spacing: 5px; font-size: 18px;">
                        <label for="otp-code">Enter 6-digit OTP</label>
                        <div class="error" data-for="otp-code" aria-live="polite"></div>
                    </div>
                    <button type="button" id="verify-otp-btn" class="btn btn-primary" style="width: 100%;">Verify OTP</button>
                    <button type="button" id="resend-otp-btn" class="btn btn-outline" style="width: 100%; margin-top: 10px;">Resend OTP</button>
                </div>
                <div id="otp-success" style="display: none; color: #4caf50; font-weight: bold; margin-top: 10px;">‚úì Email verified successfully</div>
            </div>
            
            <!-- Patient Information Section -->
            <h3>Patient Information</h3>
            <div class="field">
                <input type="text" id="name" name="name" placeholder="" required>
                <label for="name">Patient Name</label>
                <div class="error" data-for="name" aria-live="polite"></div>
            </div>
            <div class="field">
                <input type="email" id="mail" name="mail" placeholder="" required readonly style="background-color: #f5f5f5; cursor: not-allowed;">
                <label for="mail">Email Address (From Verification)</label>
                <div class="error" data-for="mail" aria-live="polite"></div>
            </div>
            <div class="field">
                <input type="tel" id="mobile" name="mobile" placeholder="" required>
                <label for="mobile">Mobile Number (10 digits)</label>
                <div class="error" data-for="mobile" aria-live="polite"></div>
            </div>
            
            <!-- Appointment Preferences Section -->
            <h3>Appointment Preferences</h3>
            <div class="field">
                <select id="doctor" name="doctor_id">
                    <option value="">-- Select Doctor (Optional) --</option>
                    {% for doctor in doctors %}
                        <option value="{{ doctor.id }}">{{ doctor.name }} - {{ doctor.specialization }}</option>
                    {% endfor %}
                </select>
                <label for="doctor">Preferred Doctor</label>
                <div class="error" data-for="doctor" aria-live="polite"></div>
            </div>
            <div class="field">
                <select id="service" name="service_id">
                    <option value="">-- Select Service (Optional) --</option>
                    {% for service in services %}
                        <option value="{{ service.id }}">{{ service.name }} ({{ service.duration_minutes }} min)</option>
                    {% endfor %}
                </select>
                <label for="service">Preferred Service</label>
                <div class="error" data-for="service" aria-live="polite"></div>
            </div>
            
            <!-- Appointment Date & Time Section -->
            <h3>Appointment Date & Time</h3>
            <div class="field">
                <input type="date" id="date" name="date" required>
                <label for="date">Preferred Date</label>
                <small style="color: #666; display: block; margin-top: 5px;">* Closed on Sundays</small>
                <div class="error" data-for="date" aria-live="polite"></div>
            </div>
            
            <h3>Select Time Slot</h3>
            <div class="slot-grid" id="slot-grid">
            {% for slot in time_slots %}
              {% if slot in booked_slots %}
                <button type="button" class="slot disabled" disabled>{{ slot }}</button>
              {% else %}
                <button type="button" class="slot" data-slot="{{ slot }}">{{ slot }}</button>
              {% endif %}
            {% endfor %}
            </div>
            <input type="hidden" id="time_slot" name="time_slot" value="">
            <input type="hidden" id="otp_verified" name="otp_verified" value="false">
            <div class="error" data-for="time_slot" aria-live="polite"></div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary" id="submit-btn" disabled>Submit Appointment</button>
            </div>
            <div id="form-feedback" class="form-feedback" role="status" aria-live="polite"></div>
            {% if error %}
              <div class="form-feedback error-server" role="alert">{{ error }}</div>
            {% endif %}
            {% if success %}
              <div class="form-feedback success-server" role="status">{{ success }}</div>
            {% endif %}
        </form>
    </div>
</section>

<!-- Testimonials -->
<section class="testimonials reveal" id="testimonials" aria-labelledby="testimonials-heading">
  <div class="container">
    <h2 id="testimonials-heading">What our patients say</h2>
    <div class="testimonials-grid">
      <blockquote class="testimonial">
        <p>"The staff made my visit comfortable and quick ‚Äî highly recommend!"</p>
        <cite>‚Äî Asha P.</cite>
      </blockquote>
      <blockquote class="testimonial">
        <p>"Great results from whitening. Friendly service and clear pricing."</p>
        <cite>‚Äî Rohit S.</cite>
      </blockquote>
      <blockquote class="testimonial">
        <p>"My kids loved the pediatric dentist ‚Äî no fear at all."</p>
        <cite>‚Äî Meera K.</cite>
      </blockquote>
    </div>
  </div>
</section>

<!-- Team -->
<section class="team reveal" id="team" aria-labelledby="team-heading">
  <div class="container">
    <h2 id="team-heading">Meet our team</h2>
    <div class="team-grid">
      <article class="team-member">
        <img src="{% static 'media/doc1.jpg' %}" alt="Dr. Priya - Lead Dentist">
        <h4>Dr. Adithya</h4>
        <p>Lead Dentist ‚Ä¢ Cosmetic & General Dentistry</p>
      </article>
      <article class="team-member">
        <img src="{% static 'media/doc2.jpg' %}" alt="Dr. Marco - Orthodontist">
        <h4>Dr. Marco Thomas</h4>
        <p>Orthodontist ‚Ä¢ Braces & Alignment</p>
      </article>
      <article class="team-member">
        <img src="{% static 'media/doc3.webp' %}" alt="Nurse Sita - Child Specialist">
        <h4>Sita R.</h4>
        <p>Pediatric Nurse ‚Ä¢ Child Care Specialist</p>
      </article>
    </div>
  </div>
</section>

<!-- Contact -->
<section id="contact" class="contact reveal" aria-labelledby="contact-heading">
  <div class="container">
    <h2 id="contact-heading">Contact & Location</h2>
    <div class="contact-grid">
      <div class="contact-info">
        <p><strong>Address:</strong> No 105-C5, Shanmuga Rice Mill, Near Tmb Atm, Sivakasi Road, Rajaji Road, Srivilliputtur-626125, Tamil Nadu</p>
        <p><strong>Phone:</strong> +91 90425 58720</p>
        <p><strong>Email:</strong> Surabidentalclinic@gmail.com</p>
      </div>
      <div class="contact-map">
        <!-- Placeholder map (replace with embed later) -->
        <div class="map-placeholder"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3934.962943635982!2d77.63336217478697!3d9.51194909056995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b06ddfa335b1d11%3A0x519abd5bb68e9cac!2sSurabi%20Dental%20Clinic!5e0!3m2!1sen!2sin!4v1766652184094!5m2!1sen!2sin" width="500" height="260px" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>
      </div>
    </div>
  </div>
</section>

<!-- Feedback Section -->
<section class="feedback-section reveal" id="feedback" aria-labelledby="feedback-heading">
  <div class="container">
    <h2 id="feedback-heading">Share Your Feedback</h2>
    <p class="feedback-subtitle">Tell us about your experience at Surabi Dental Clinic</p>
    
    <div class="feedback-container">
      <div class="feedback-form-wrapper">
        <form id="feedback-form" class="feedback-form">
          <div class="feedback-field">
            <label for="feedback-name">Your Name</label>
            <input 
              type="text" 
              id="feedback-name" 
              name="name" 
              placeholder="Enter your name" 
              required 
              maxlength="100"
            >
          </div>
          
          <div class="feedback-field">
            <label for="feedback-message">Your Feedback</label>
            <textarea 
              id="feedback-message" 
              name="message" 
              placeholder="Share your experience with us..." 
              required 
              maxlength="500"
              rows="4"
            ></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary">Submit Feedback</button>
          <div id="feedback-status" class="feedback-status" role="status" aria-live="polite"></div>
        </form>
      </div>
      
      <div class="feedback-display-wrapper">
        <div id="feedback-testimonial" class="feedback-testimonial">
          <p class="feedback-placeholder">Submit your feedback to see it displayed here</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-content">
            <!-- About Section -->
            <div class="footer-section">
                <h4>About Surabi Dental</h4>
                <p>Surabi Dental Clinic is a state-of-the-art facility dedicated to providing comprehensive, compassionate dental care for the entire family. With advanced technology and experienced professionals, we ensure your smile is our priority.</p>
                <div class="footer-badges">
                    <span class="badge">ISO Certified</span>
                    <span class="badge">24/7 Emergency Care</span>
                </div>
            </div>

            <!-- Quick Links -->
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="#services">Our Services</a></li>
                    <li><a href="#team">Meet Our Team</a></li>
                    <li><a href="#appointment">Book Appointment</a></li>
                    <li><a href="#contact">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                </ul>
            </div>

            <!-- Services -->
            <div class="footer-section">
                <h4>Services</h4>
                <ul class="footer-links">
                    <li><a href="#">Professional Cleaning</a></li>
                    <li><a href="#">Teeth Whitening</a></li>
                    <li><a href="#">Root Canal Therapy</a></li>
                    <li><a href="#">Dental Implants</a></li>
                    <li><a href="#">Orthodontics</a></li>
                    <li><a href="#">Pediatric Care</a></li>
                </ul>
            </div>

            <!-- Contact Info -->
            <div class="footer-section">
                <h4>Get in Touch</h4>
                <div class="contact-details">
                    <div class="contact-item">
                        <span class="contact-icon">üìç</span>
                        <div>
                            <p><strong>Address</strong></p>
                            <p>No 105-C5, Shanmuga Rice Mill<br>Sivakasi Road, Rajaji Road<br>Srivilliputtur-626125, TN</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon">üìû</span>
                        <div>
                            <p><strong>Phone</strong></p>
                            <p><a href="tel:+918778392763">+91 87783 92763</a></p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon">‚úâÔ∏è</span>
                        <div>
                            <p><strong>Email</strong></p>
                            <p><a href="mailto:pulipandi8158@gmail.com">pulipandi8158@gmail.com</a></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Follow Us -->
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="Facebook">f</a>
                    <a href="https://www.instagram.com/le.puli.hq/" class="social-link" aria-label="Instagram">üì∑</a>
                    <a href="#" class="social-link" aria-label="Twitter">ùïè</a>
                    <a href="https://wa.me/918778392763" class="social-link" aria-label="WhatsApp">üí¨</a>
                </div>
                <div class="footer-hours">
                    <p><strong>Clinic Hours</strong></p>
                    <p>Mon - Sat: 9:00 AM - 5:00 PM</p>
                    <p>Sunday: 10:00 AM - 2:00 PM</p>
                    <p class="emergency">24/7 Emergency: +91 87783 92763</p>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <p>&copy; 2025 Surabi Dental Clinic. All Rights Reserved.</p>
            <p>Designed with care for your smile | Best Dental Care in Srivilliputtur</p>
        </div>
    </div>
</footer>

<!-- Modal -->
<div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-content">
        <button class="modal-close" aria-label="Close">&times;</button>
        <h3 id="modal-title">Appointment Submitted</h3>
        <p id="modal-message">We have received your request and will contact you shortly.</p>
        <div class="modal-actions">
            <button class="btn btn-primary" id="modal-ok">OK</button>
        </div>
    </div>
</div>

<script src="{% static 'js/script.js' %}"></script>
</body>
</html>